import*as global from"./global.js";export{showSnackbar,showSnackbarSite};const showSnackbar=storage=>{if(!storage.feature_experimentalui){let snackbarHtml,html='<div class="snackbar">'+'\n    <b>Sitecore Author Toolbox 5.0</b><br />\n    Experimental UI theme is available for Desktop mode!<br />Click "TRY IT" to activate it now!'+'<button id="sbAction" onclick=\'javascript:document.querySelectorAll(".interfaceRadio")[1].click()\'>TRY IT</button><button id="sbDismiss">DISMISS</button></div>',parentSnackbar;!parent.document.querySelector(".snackbar")&&global.showSnackbar&&localStorage.getItem("sbDismiss")!=global.extensionVersion&&(document.querySelector("body").insertAdjacentHTML("beforeend",html),document.querySelectorAll("#sbAction, #sbDismiss").forEach((function(elem){elem.addEventListener("click",(function(){localStorage.setItem("sbDismiss",global.extensionVersion),document.querySelector(".snackbar").setAttribute("style","display: none")}))})))}},showSnackbarSite=(storage,ScItem)=>{let siteName=ScItem.pathFull.split("/home/")[0].split("/").reverse(),existing=localStorage.getItem("sbDismissSites");existing=existing?JSON.parse(existing):{};let length=Object.values(existing).length,snackbarHtml,html='<div class="snackbarSite">'+('<b>"'+siteName[0].toUpperCase()+'" site detected</b><br />\n    Are you using any live/CD server?<br />Click "Add site" to configure it now.')+'<button id="sbActionSite" onclick="window.open(\''+global.launchpadPage+"?configure_domains=true&launchpad=true&url="+global.windowLocationHref+'\')">ADD&nbsp;SITE</button><button id="sbDismissSite">DISMISS</button></div>';ScItem.pathFull.includes("/home/")&&-1===Object.values(existing).indexOf(ScItem.pathFull)&&(document.querySelector(".snackbarSite")&&document.querySelector(".snackbarSite").remove(),document.querySelector("body").insertAdjacentHTML("beforeend",html),document.querySelectorAll("#sbDismissSite").forEach((function(elem){elem.addEventListener("click",(function(){existing[length++]=ScItem.pathFull,localStorage.setItem("sbDismissSites",JSON.stringify(existing)),document.querySelector(".snackbarSite").setAttribute("style","display: none")}))})))};